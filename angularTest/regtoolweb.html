<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<script type="text/javascript">
			var getKey = function(type) {
				var tb = [0, 5, 6, 'T', 'U', 'V', 7, 8, 9, 'A', 'D', 'H', 'I', 1, 4, 'J', 'K', 'L', 'B', 'C', 'M', 'N', 'O', 2, 3, 'P', 'E', 'F', 'G', 'Q', 'X', 'Y', 'Z', 'R', 'S', 'W'];
				var pro = ['T', 'U', 0, 'V', 'A', 'D', 5, 6, 8, 4, 'J', 'K', 9, 'H', 'I', 'L', 'B', 'C', 2, 'M', 'Y', 'N', 'Z', 'S', 1, 7, 'W', 'O', 'F', 'G', 3, 'P', 'R', 'E', 'Q', 'X'];
				var no = document.getElementById("num").value;
				var r = /^\d{8}$/;
				if (!r.test(no)) {
					alert("不是有效的机器码，请重新输入！");
				} else {
					var pos, dist_no = '';
					for (var i = 0; i < no.length; i++) {
						var cur_num = no.substring(i, i + 1)
						if (cur_num == '0' || cur_num == '1') {
							pos = 1
							
						} else {
							pos = Math.floor(cur_num / 2);
						}
						if(type==1)
						{
							dist_no = dist_no + pro[4 * i + pos-1];
						}else
						{
							dist_no = dist_no + tb[4 * i + pos-1];
						}
						
					}
					document.getElementById("dist_no").innerText = dist_no;
				}
			}
			window.onload = function() {
			var loginBtn=document.getElementById("login");
			var auth=document.getElementById("auth");
			var real=document.getElementById("real");
			  loginBtn.addEventListener("click",function(){
			   var val=document.getElementById("pwd").value;
			   if(val==="mlgb")
			   {
			      auth.style.display="none";
			      real.style.display="block";
			   }
			  });
				document.getElementById("creat").addEventListener("click", function() {
					 if (document.getElementsByName("rd")[0].checked==true)
					 {
					 	getKey(1)
					 }else
					 {
					 	getKey(2)
					 }
				});
			}
		</script>
		<title>微</title>
	</head>

	<body>
		<div id="auth">
			<input type="password" value="" id="pwd" name="pwd" />
			<input type="button" name="login" id="login" value="login" />
		</div>
		<div style="  margin: auto;width: 400px;display: none;" id="real">
			<span>机器码：</span>
			<input type="text" name="num" id="num" value="" />
			<br />
			<input type="radio" name="rd" value="1" style="display: none;" />
			<!--代理商授权码-->
			<input type="radio" name="rd" value="2" checked="checked" />
			<br />
			<button id="creat" style="float: left;margin-top: 10px;">生成</button>

			<label id="dist_no" style="  float: left;margin-top: 10px;margin-left: 50px;color: red;"></label>
		</div>
	</body>

</html>